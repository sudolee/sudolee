win7+ubuntu

自从前两天重新装了Ubuntu 11.04之后就麻烦不断，开机启动项有windows7 loader，但是选择后进不了windows7，又会回到启动选择界面，后来就没管，但是今天早上一来，电脑就罢工了，笔记本开机后，一直不断的响，开始以为是硬件问题，查了下amibios的响声对应的故障，发现没有对应不断短响的问题，后来拆了笔记本，把内存条啥的重新装了下，发现还是有问题，本来打算送到华硕客服的，后来惊奇的发现，expressgate（华硕自带的基于linux的简单操作系统）居然可以运行，后来我想应该不是硬件问题，于是就开始了摸索的过程，首先找了一张，windows7的安装光盘，以光盘启动，然后修复计算机，发现已修复，然后选择命令行模式，输入两行命令：

bootrec  /fixmbr

bootrec  /fixboot

然后关闭命令行重新启动，选择以硬盘启动，我勒个去，电脑正常了，居然进入了装ubuntu之前的那个windows7，但是ubuntu的启动项没有了，但是突然发现一切问题都明朗了，就好比做数学题，把特殊问题一般化一样，于是进过一番搬弄，两个系统都能进入正常了。下面就写写ubuntu与windows7双系统中遇到的两种问题解决办法。


1.进不了ubuntu

安装windows7和ubuntu双系统后，开机启动选择项中没有ubuntu的选择项，这样的问题，一般是由于先装了ubuntu，后装windows7后，grub被覆写了，所以我们需要通过Ubuntu光盘找回grub，一般步骤如下。

首先找到一张Ubuntu光盘，或者刻有Ubuntu的U盘，然后开机选择对应的启动方式。

启动后，选择Live cd模式或者try ubunt without installing

进入ubuntu后，打开终端（ctrl+alt+t），然后输入命令：

sudo fdisk -l

该命令是为了找到你ubuntu安装的分区，例如我是sda9（一般是找到你安装ubuntu时选择“/”安装的位置）

然后执行命令sudo   mount   /dev/sda9    /mnt

(sda9对应你linux分区，如果你单独安装了bootloader，后面的/mnt改为/mnt/boot)

接着执行命令sudo    mount    Cbind     /dev     /mnt/dev

sudo     mount    Cbind    /proc   /mnt/proc

sudo     chroot    /mnt

(执行上条命令后，此时已经切到了root)接着执行命令 update-grub

grub-install      /dev/sda

接着按ctrl+d退出root

执行命令 sudo   umount    /mnt/dev

sudo   umount   /mnt

重启电脑，选择硬盘启动，接着你就会看到ubuntu系统选择界面，可是windows7又不见了，怎么办？不急，咱们让grub自动查找，选择进入找回的ubuntu系统后。

打开终端，执行下列命令：

sudo  rm  /boot/grub/grub.cfg

sudo   grub-mkconfig   >>   grub.cfg

此时应该提示中会有找到windows7启动的相关信息了

sudo    chmod   444   grub.cfg

sudo   mv    grub.cfg    /boot/grub/grub.cfg

重新启动，你会看到windows7的选择项，选择后，正常进入，世界又平静了。

2.进不了windows7

我遇到这个问题的原因是，我用硬盘安装的时候，选择grub安装位置时选择的是windows 7 loader，所以当我装完ubuntu后，windows 7的启动选择项，选择后没反应，又回到启动选择项界面，我尝试了修改grub.cfg文件都未果，最后推测解决办法应该就是用windows7安装盘选择修复计算机，然后修复mbr和boot，自动修复后，选择命令行，执行dos命令：

bootrec   /fixmbr

bootrec   /fixboot

重新启动，就会看到windows7的启动选择恢复正常，但是ubuntu没有了，所以这个时候就转化成了第一个问题，安装第一个问题的执行步骤就行了。

其实有时候我们耐心一点会发现很多事没有我们想象的那么困难，只要我们难信点儿就可以解决的。